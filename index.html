<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Text Converter | Premium</title>

<style>
:root{
--bg:#050508;
--card:rgba(15,15,25,.88);
--accent:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);
--text:#fff;
--dim:#94a3b8;
}
*{box-sizing:border-box;font-family:Segoe UI,Roboto}
body{
background:var(--bg);
color:var(--text);
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
padding:20px;
}
.card{
max-width:700px;width:100%;
background:var(--card);
border-radius:22px;
padding:28px;
box-shadow:0 25px 60px rgba(0,0,0,.6);
}
h1{text-align:center;font-size:2rem;margin-bottom:5px}
.subtitle{text-align:center;color:var(--dim);margin-bottom:20px}
textarea{
width:100%;height:180px;
background:#0005;
border:1px solid #fff2;
border-radius:14px;
padding:15px;
color:#fff;
resize:none;
}
select,button{
width:100%;
margin-top:12px;
padding:14px;
border-radius:14px;
border:none;
font-size:1rem;
}
button{
background:var(--accent);
color:white;
font-weight:700;
cursor:pointer;
}
button.secondary{
background:#111827;
border:1px solid #fff2;
}
.status{margin-top:12px;font-size:.9rem}
.download-area{margin-top:12px;display:none}
.footer{
margin-top:22px;
text-align:center;
font-size:.8rem;
color:var(--dim);
cursor:pointer;
}
hr{margin:25px 0;border:1px solid #ffffff10}
canvas{display:none}
</style>
</head>

<body>
<div class="card">
<h1>Text Converter</h1>
<p class="subtitle">PDF & Image Generator</p>

<textarea id="textInput" placeholder="Write or paste text here..."></textarea>

<!-- PDF SECTION -->
<button id="genPdf">Generate PDF</button>
<div class="status" id="pdfStatus"></div>
<div class="download-area" id="pdfDownload">
<button class="secondary" id="downloadPdf">Download PDF</button>
</div>

<hr>

<!-- IMAGE SECTION -->
<select id="imgRatio">
<option value="1">Square (1:1)</option>
<option value="1.777">Landscape (16:9)</option>
<option value="0.75">Portrait (3:4)</option>
</select>

<button id="genImg">Generate Image</button>
<div class="status" id="imgStatus"></div>
<div class="download-area" id="imgDownload">
<button class="secondary" id="downloadImg">Download Image</button>
</div>

<canvas id="canvas"></canvas>

<div class="footer" id="installApp">Install our app</div>
</div>

<!-- jsPDF STABLE -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>

<script>
let pdfDoc=null;
let imageBlob=null;

document.getElementById("genPdf").onclick=function(){
const text=document.getElementById("textInput").value.trim();
const status=document.getElementById("pdfStatus");
if(!text){status.textContent="Enter some text";return;}

pdfDoc=new jsPDF("p","mm","a4");
const margin=20;
const width=pdfDoc.internal.pageSize.width-margin*2;
const lines=pdfDoc.splitTextToSize(text,width);
let y=margin;

lines.forEach(l=>{
if(y>270){pdfDoc.addPage();y=margin;}
pdfDoc.text(l,margin,y);y+=7;
});

status.textContent="PDF generated successfully";
document.getElementById("pdfDownload").style.display="block";
};

document.getElementById("downloadPdf").onclick=function(){
if(pdfDoc) pdfDoc.save("text-to-pdf.pdf");
};

document.getElementById("genImg").onclick=function(){
const text=document.getElementById("textInput").value.trim();
const ratio=parseFloat(document.getElementById("imgRatio").value);
const status=document.getElementById("imgStatus");
if(!text){status.textContent="Enter some text";return;}

const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
canvas.width=1080;
canvas.height=1080/ratio;

ctx.fillStyle="#050508";
ctx.fillRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="#ffffff";
ctx.font="28px Segoe UI";
ctx.textAlign="center";
ctx.textBaseline="top";

let y=60;
text.split("\n").forEach(line=>{
ctx.fillText(line,canvas.width/2,y);
y+=40;
});

canvas.toBlob(b=>{
imageBlob=b;
status.textContent="Image generated successfully";
document.getElementById("imgDownload").style.display="block";
});
};

document.getElementById("downloadImg").onclick=function(){
const a=document.createElement("a");
a.href=URL.createObjectURL(imageBlob);
a.download="text-image.png";
a.click();
};

document.getElementById("installApp").onclick=function(){
alert("Coming soon...");
};
</script>
</body>
</html>